<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> nerf turret | Sean R. Wahl </title> <meta name="author" content="Sean R. Wahl"> <meta name="description" content="a heat-seeking projectile launcher"> <meta name="keywords" content="Sean, Wahl, mechanical, engineering, mechatronics, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://seanwahl.github.io/projects/nerf_project/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Sean</span> R. Wahl </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/resume/">resume </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">nerf turret</h1> <p class="post-description">a heat-seeking projectile launcher</p> </header> <article> <p>For my intermediate level mechatronics course, our term project was to duel using autonomous nerf guns across a table. We were given a Nucleo L476RG, an infrared camera, and two motors with encoders. We were left to our own devices to source a nerf gun, make a structure for the system, and write the code for the dueling scenario.</p> <p>Though our mechanical design was hasty, it was an advantage because we had more time to tune our system. We designed and manufactured it as a group with most of the structure being wood besides a lazy susan, an aluminum axle, skate bearings, and 3D printed gears/pulleys. We analyzed the system dynamics and ran them in a Jupyter Notebook script to determine a proper gear ratio for the system to turn around quickly and accurately.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/nerfthumb-480.webp 480w,/assets/img/nerfthumb-800.webp 800w,/assets/img/nerfthumb-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/nerfthumb.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="full turret" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Our final turret. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/nerfbase-480.webp 480w,/assets/img/nerfbase-800.webp 800w,/assets/img/nerfbase-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/nerfbase.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="example image" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Taking a closer look at the base, you can see how the 3D printed gear fits on the heading motor and interfaces with the internal gear. </div> <p>The nerf gun we purchased was electronically activated via a limit switch and would spin up two flywheels before feeding nerf darts into the wheels. We hotwired this so that two separate GPIO pins could activate the flywheels and feed mechanism separately. The feed mechanism signal didn’t draw power directly from the GPIO pin, but the flywheels did. To deal with this I used a spare relay to activate the flywheels using the GPIO pin as to avoid frying the microcontroller.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/nerfelectrical-480.webp 480w,/assets/img/nerfelectrical-800.webp 800w,/assets/img/nerfelectrical-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/nerfelectrical.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="electronics" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Nucleo L476RG interfacing with the two motors. The relay is not visible from this angle. It is of note that the system could not turn 360 degrees without tangling wires. For the purposes of this competition, it only ever needed to turn ~180 degrees. </div> <p>With the full system set up, it’s a good time to mention the rules of the competition. The teams would have a representative at one end of the table, guarded by their nerf turret. Upon a signal, the nerf guns would turn 180 to face the other side of the table. The opponent has 5 seconds to move around on the other side followed by 5 seconds of standing still.</p> <p>The infrared cameras we were using took about 0.4 seconds to take a picture when running micropython, so speed tracking was not possible. For this reason, our robot waited until the moving period ended and then tried to shoot the target while standing still. Our camera was placed halfway down the table for increased resolution. Our system would point at the designated target using a PD controller. If we were running in C we could’ve likely tracked the target in real time, but this wasn’t a possibility with what we were given.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/nerfsketch-480.webp 480w,/assets/img/nerfsketch-800.webp 800w,/assets/img/nerfsketch-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/nerfsketch.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="table geometry" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Table sketch used to convert camera pixel data into a usable angle to aim at. The full camera resolution was something like 32x32 pixels. The table took up pixels 7-25 horizontally and this was used in a correlation with corresponding angles in order to track the opponent's heat signature. </div> <p align="center"> <iframe width="315" height="560" src="https://www.youtube.com/embed/JCTmFaLQwpU" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> </p> <div class="caption"> Here's a demo of the working nerf turret before we raised the shooting pitch. </div> <p>This was a very fun project to be able to work on and I value what I learned from working on it. In the end, we lost in our second round of dueling to a team that wasn’t able to shoot because we got -1 point for missing our shot… That’s just the way the world works I guess!</p> <p>For solo website portfolio of this project, see <a href="https://seanwahl.github.io/ME405_TermProject/">here</a>.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Sean R. Wahl. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>