<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> hungry hippo bot | Sean R. Wahl </title> <meta name="author" content="Sean R. Wahl"> <meta name="description" content="ping pong ball collector"> <meta name="keywords" content="Sean, Wahl, mechanical, engineering, mechatronics, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://seanwahl.github.io/projects/hippo_project/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Sean</span> R. Wahl </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">small projects </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/resume/">resume </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">hungry hippo bot</h1> <p class="post-description">ping pong ball collector</p> </header> <article> <p>In my Mechanical Control System Design course, we were tasked with designing a PCB and robot to be able to roam around an arena and collect a specific color of ping pong balls. Working with a partner, we split up and separately took on the mechanical and electronics design. He handled the mechanical design, structure, and assembly of the robot while I focused on PCB design, wire harnessing, and sensor/actuator selection and usage.</p> <p>Due to time constraints in the quarter system, none of the class completely finished the project. Me and my partner were able to complete the robot but did not get to designing the algorithm of how it should navigate around the arena to look for ping pong balls.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/hippothumb-480.webp 480w,/assets/img/hippothumb-800.webp 800w,/assets/img/hippothumb-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/hippothumb.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="robot finished" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The completed robot. Drove on two drive wheels and a follower wheel in the back. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/hippofront-480.webp 480w,/assets/img/hippofront-800.webp 800w,/assets/img/hippofront-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/hippofront.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="robot finished" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Taking a closer look, you can see two intake wheels to feed ping pong balls into the robot's chute. Once inside, there's a color sensor to determine if the ball is the right color and a limit switch to see if the chute is full. </div> <p>This was my first experience with PCB design and it took some time to get up to speed with using Autodesk’s PCB designer. Once learned though, creating the PCB wasn’t too bad and taught me a lot about designing electronic systems, reading data sheets, and planning for compatibility.</p> <p>Key components included on the PCB were:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
• STM32F411CEU6 microcontrol unit
• 12V to 5V switching regulator
• 5V to 3.3V linear voltage regulator
• 5V relay (for motor power)
• 4 DRV8251 H-Bridges for motor driving
• reset button
• 25 MHz crystal oscillator
• reverse polarity protection for 12V battery connection
---
</code></pre></div></div> <div class="row justify-content-sm-center"> <div class="col-sm-6 mt-4 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/hippopcbbare-480.webp 480w,/assets/img/hippopcbbare-800.webp 800w,/assets/img/hippopcbbare-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/hippopcbbare.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="pcb bare" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm-6 mt-4 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/hippopcbassembled-480.webp 480w,/assets/img/hippopcbassembled-800.webp 800w,/assets/img/hippopcbassembled-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/hippopcbassembled.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="pcb assembled" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The PCB I designed. On the left you can see it before assembly and on the right is it ready for action. </div> <p>I believe I made two mistakes in the PCB design. The first was that reset pin needed to be grounded to properly use the debugger so we hotwired this connection. The other was that the NMOSFET activating the relay had too high of a resistance to get above the threshold voltage. We were lucky enough to have a spare on hand that had a lower internal resistance to properly activate the relay.</p> <p>The PCB was designed to be used with:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>---
• 2 line followers
• 1 color/proximity sensor
• 3 motors (2 with encoders)
• 1 IMU for heading
• 1 limit switch
• 1 SPI connection (unused)
---
</code></pre></div></div> <p>The unused SPI connection was swapped to an I2C connection for interfacing with an nrf24L01+ (wireless receiver/transmitter) for our robot’s deadman switch. This was connected to a joystick and the robot would only autonomously drive when the joystick was pressed. There was also a manual control mode where the robot operated like a regular RC car (using the joystick for input).</p> <p>I wrote code in C for interfacing with all these sensors and actuators and got them all to work. I wish we had time to fully develop the code to autonomously drive around the arena.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/hippowire-480.webp 480w,/assets/img/hippowire-800.webp 800w,/assets/img/hippowire-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/hippowire.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="robot backside" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> The wire harness. You can also see the limit switch and follower wheel better from this angle. </div> <p>I don’t think the wire harness was perfect, but considering it was my first time fully designing these connections and making quick fixes, I think it was adequate for the robot.</p> <p>Overall, I am proud of this project and everything it taught me. With more time, I am confident we could have gotten it working for the competition. I think it is very telling that we did a good job on this considering most people in the class did not get to full robot integration by the end of the quarter.</p> <p>For a solo website portfolio of this project, see <a href="https://seanwahl.github.io/ME-507-Portfolio/index.html">here</a>.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Sean R. Wahl. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>